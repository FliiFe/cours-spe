\ifsolo
    ~

    \vspace{1cm}

    \begin{center}
        \textbf{\LARGE Familles sommables} \\[1em]
    \end{center}
    \tableofcontents
\else
    \minitoc
\fi
\thispagestyle{empty}

\ifsolo \newpage \setcounter{page}{1} \fi

\section{Dénombrabilité}

\begin{dfn}
    Un ensemble est dénombrable si et seulement si il est en bijection avec $\mathbb N$
\end{dfn}

\begin{ex}
    $\mathbb N, 2\mathbb N, \mathbb N^\star, \mathbb Z$
\end{ex}

\begin{prop}
    \begin{enumerate}
        \item Toute partie infinie de $\mathbb N$ est dénombrable
        \item Toute partie de $\mathbb N$ est finie ou dénombrable
    \end{enumerate}
\end{prop}

\begin{proof}
    Soit $A$ une partie de $\mathbb N$ infinie. On note $\varphi(0)=\min A$ et \[
        \varphi(n)=\min (A\setminus \llbracket 0, \varphi(n-1)\rrbracket)
    \]
    de sorte que $\varphi$ est croissante donc injective, et surjective car si $a\in A$ n'a pas d'antécédent, $I=\{k, \quad a<\varphi(k)\}$ est non vide et a un minimum $p$, et $\varphi(0)<a$ donc $p\geq 1$ d'où $\varphi(p-1)< a<\varphi(p)$ absurde.
\end{proof}

\begin{prop}
    \begin{enumerate}
        \item Si $f:A\to B$ est injective et $B$ dénombrable alors $A$ est fini ou dénombrable
        \item Si $f:A\to B$ est surjective et $A$ dénombrable alors $B$ est fini ou dénombrable.
    \end{enumerate}
\end{prop}

\begin{proof}~
    \begin{enumerate}
        \item $B$ est en bijection avec $\mathbb N$ donc on peut supposer $B=\mathbb N$. Si $A$ est fini alors ok, sinon $f(A)$ est une partie infinie de $\mathbb N$ en bijection avec $A$.
        \item On note $\psi(b)$ un élément de $f^{-1}(\{b\})$. $f\circ \psi=\id_B$ injective donc $\psi$ est injective et on utilise 1.
    \end{enumerate}
\end{proof}

\begin{prop}
    \begin{enumerate}
        \item Si $I$ est non-vide, fini ou dénombrable, et $(A_i)_{i\in I}$ est une famille d'ensembles finis ou dénombrables, alors \[
                \bigcup_{i\in I}A_i
            \]
            est fini ou dénombrable
        \item $E_1,\cdots, E_n$ des ensembles finis ou dénombrables, non vides. $E_1\times \cdots \times E_n$ est fini ou dénombrable et $E_1\times \cdots \times E_n$ est dénombrable si et seulement si au moins l'un des $E_i$ est dénombrable.
    \end{enumerate}
\end{prop}

\begin{proof}~
    \begin{enumerate}
        \item On note $\varphi:\mathbb N\to I$ surjective et pour chaque $i$ on note $f_i:\mathbb N\to A_i$ bijective de sorte que \[
        \psi: (p, q)\in\mathbb N^2\longmapsto f_{\varphi(q)}(p)\in\bigcup_{i\in I}A_i
            \]
            est surjective, et $\mathbb N^2$ est dénombrable.
        \item Chaque $E_i$ est en bijection avec une partie de $\mathbb N$, on peut supposer $E_i\subseteq \mathbb N$. On note $p_1, \cdots, p_n$ des premiers disjoints. \[
                f: E_1\times \cdots \times E_n\longrightarrow \mathbb N, \quad (a_1, \cdots, a_n)\longmapsto p_1^{a_1}\cdots p_n^{a_n}
            \]
            est injective et $\mathbb N$ dénombrable. Si tous les $E_i$ sont finis alors le produit est fini et si l'un est infini alors le produit est infini.
    \end{enumerate}
\end{proof}

\section{Exemples d'ensembles classiques}

\begin{ex}
    $\mathbb Q$ est dénombrable car $\mathbb Z\times \mathbb N^\star$ est dénombrable et $(p, q)\in\mathbb Z\times \mathbb N^\star\longmapsto \frac pq$ est surjective
\end{ex}

\begin{ex}
    L'ensemble des nombres algébriques est dénombrable: \[
        \mathcal A=\bigcup_{n\in\mathbb N^\star}\bigcup_{P\in\mathbb Z_n[X]}\mathcal Z_{\mathbb C}(P)
    \]
\end{ex}

\begin{ex}[Diagonale de Cantor]
    $\mathbb R$ \index{Cantor!argument diagonal}n'est pas dénombrable. Si $\mathbb R$ est dénombrable alors $[0, 1[$ est dénombrable, et on note $(r_n)_{n\in\mathbb N}$ une énumération des éléments de $[0, 1[$. On construit le réel $x\in [0, 1[$ de la manière suivante: si la $n$-ième décimale de $r_n$ vaut $1$ alors la $n$-ième décimale de $x$ vaut $0$, sinon elle vaut $1$. Le réel ainsi construit ne peut pas être un $r_n$ car sa $n$-ième décimale est différente de celle de $r_n$. On a donc trouvé un réel qui n'est pas dans l'énumération, c'est absurde.
\end{ex}

\section{Discontinuités d'une fonction monotone}

On note $f:[a, b]\in\mathbb R$ croissante. On va montrer que l'ensemble des points de discontinuité de $f$ est fini ou dénombrable.

On note pour $x\in ]a, b[$, \[
    \delta(x)=\lim_{\substack{t\to x\\t>x}}f(t)-\lim_{\substack{t\to x\\t<x}}f(t)
\]

\begin{itemize}
    \item $f$ est croissante donc $\delta$ est positive et $f$ est continue en $a$ ssi $\delta(a)=0$.
    \item Pour tout $n\in\mathbb N^\star$, on note \[
            I_n= \left\{ x\in ]a, b[, \qquad \delta(x)\geq \frac{f(b)-f(a)+1}n \right\}
        \]
    \item Si $I_n$ est de cardinal $\geq n+1$ alors on peut trouver $x_1< \cdots< x_{n+1}$ dans $I_n$, et on se donne $a<t_1<x_1<\cdots <x_{n+1}<t_{n+2}<b$ pour avoir \[
            f(b)-f(a)=\underbrace{f(b)-f(t_{n+2})}_{\geq 0}+\underbrace{f(t_{n+2})-f(b_{n+1})}_{\geq \delta(x_{n+1})} +\cdots +\underbrace{f(t_2)-f(t_1)}_{\geq \delta(x_1)}+\underbrace{f(t_1)-f(b)}_{\geq 0}
        \]
        donc \[
            f(b)-f(a)\geq \delta(x_{n+1})+\cdots +\delta(x_1)\geq n\frac{f(b)-f(a)+1}n
        \]
        absurde donc $I_n$ est fini. $x\in ]a, b[$ est un point de discontinuité si et seulement si $\delta(x)>0$ ssi $\exists n\in\mathbb N, x\in I_n$ ssi \[
            x\in \bigcup_{n\in\mathbb N^\star}I_n
        \]
\end{itemize}

\section{Familles sommables de réels positifs}

Pour un ensemble dénombrable $I$, on note $\mathcal P_f(I)$ l'ensemble des parties finies de $I$

\begin{dfn}
    Soit $(a_i)_{i\in I}\in (\mathbb R_+)^I$. On dira que la famille $(a_i)_{i\in I}$ est \index{famille sommable}\textbf{sommable} si \[
        \left\{ \sum_{j\in J}a_j, \quad J\in\mathcal P_f(I) \right\}
    \]
    est majoré. On note alors \[
        \sum_{i\in I}a_i=\sup\left\{ \sum_{j\in J}a_j, \quad J\in\mathcal P_f(I) \right\}
    \]
    Si la famille n'est pas sommable on peut parfois écrire \[
        \sum_{i\in I}a_i=+\infty
    \]
\end{dfn}

\begin{prop}
    \Hyp $(a_i)_{i\in I}$ famille dénombrable de réels positive et $S\in \mathbb R$
    \Conc $(a_i)_{i\in I}$ est sommable et $S=\sum_{i\in I}a_i$ si et seulement si les deux conditions suivantes sont réunies: \begin{itemize}[left=2cm]
        \item $\forall J\in\mathcal P_f(I), \quad \displaystyle \sum_{j\in J}a_j\leq S$
        \item $\displaystyle \forall \epsilon>0, \exists J\in\mathcal P_f(J), \quad S-\epsilon\leq \sum_{j\in J}a_j$
    \end{itemize}
\end{prop}

\begin{proof}
    C'est une caractérisation de la borne supérieure.
\end{proof}

\begin{rem}
    Dans le cas $I=\mathbb N$ et $(a_i)_{i\in\mathbb N}$ positive, la sommabilité équivaut à la convergence de $\sum a_i$. Si la famille est sommable, $(S_n)$ est croissante majorée donc la série converge, et si la série converge, alors les sommes sur un segment sont majorées par la somme de la série.
\end{rem}

\begin{prop}
    \Hyp $(a_i)_{i\in I}$, $(b_i)_{i\in I}$ des familles de réels positifs
    \begin{concenum}
    \item Si $0\leq a_i\leq b_i$ pour tout $i\in I$ et $(b_i)_i$ est sommable, alors $(a_i)_i$ est sommable et \[
            \sum_{i\in I}a_i\leq \sum_{i\in I}b_i
        \]
    \item Pour $\lambda\in\mathbb R_+$, si $(a_i)_i$ et $(b_i)_i$ sont sommables, $(\lambda a_i+b_i)_i$ aussi et \[
            \lambda\sum_{i\in I}a_i+\sum_{i\in I}b_i=\sum_{i\in I}(\lambda a_i+b_i)
        \]
    \end{concenum}
\end{prop}

\begin{proof}~
    \begin{enumerate}
        \item Ok
        \item Pour tout $J\in \mathcal P_f(I)$, \[
                \sum_{j\in J}(\lambda a_j+b_j)=\lambda\sum_{j\in J}a_j+\sum_{j\in J}b_j\leq \lambda \sum_{i\in I}a_i+\sum_{i\in I}b_i\defeq M
            \]
            Soit $\epsilon>0$. Il existe $J_1, J_2\in\mathcal P_f(I)$ tels que \[
                \sum_{j\in I}a_j-\epsilon'\leq \sum_{j\in J_1}a_j\qquad \text{ et }\qquad \sum_{j\in I}b_j-\epsilon'\leq \sum_{j\in J_2}b_j
            \]
            donc pour $J=J_1\cup J_2$, \[
                M-\lambda\epsilon'-\epsilon'=M-\epsilon\leq \sum_{j\in J}(\lambda a_j+b_j)
            \]
            donc \conc
    \end{enumerate}
\end{proof}

\section{Familles sommables de complexes}

\begin{defprop}
    \Hyp $(a_k)_{k\in I}$ une famille dénombrable de complexes, $\alpha_k=\Re(a_k)$ et $\beta_k=\Im(a_k)$
    \begin{concenum}
    \item $(a_k)_{k\in I}$ est sommable\index{famille sommable} ssi $(|a_k|)_{k\in I}$ est sommable.
    \item Dans ce cas, $(\alpha_k^+)$, $(\alpha_k^-)$, $(\beta_k^+)$ et $(\beta_k^-)$ sont sommables\footnote{$u_n^+=\max(u_n, 0), \quad u_n^-=\max(-u_n, 0)$ pour écrire $u_n=u_n^+-u_n^-$} et on pose \[
            \sum_{i\in I}a_i\defeq\sum_{i\in I}\alpha_i^+-\sum_{i\in I}\alpha_i^-+i\sum_{i\in I}\beta_i^+-i\sum_{i\in I}\beta_i^-
        \]
    \item Si $(a_i)_i$ et $(b_i)_i$ sont sommables et $\lambda\in\mathbb C$ alors $(\lambda a_i+b_i)_{i\in I}$ est sommable et \[
            \lambda\sum_{i\in I}a_i+\sum_{i\in I}b_i=\sum_{i\in I}(\lambda a_i+b_i)
        \]
    \end{concenum}
\end{defprop}

\begin{proof}~
    \begin{enumerate}
        \item Définition
        \item $0\leq \alpha_k^\pm\leq |\alpha_k|\leq |a_k|$ pour la sommabilité
        \item L'inégalité triangulaire donne la sommabilité. La linéarité est admise car la démo est lourde.
    \end{enumerate}
\end{proof}

\begin{thm}[Sommation par paquets\index{sommation par paquets}]
    \Hyp $I$ dénombrable, $(I_n)_{n\in\mathbb N}$ une partition de $I$, $(a_i)_{i\in I}\in \mathbb C^I$
    \Conc Il y a équivalence entre \begin{enumerate}[left=1.1cm,label=\alph{enumi}.]
        \item la famille $(a_i)_i$ est sommable
        \item Pour tout $n\in\mathbb N$, $(a_i)_{i\in I_n}$ est sommable et \[
                \sum_{i\in I_n}a_i
            \]
            est le terme général d'une série absolument convergente. Dans ce cas, \[
                \sum_{i\in I}a_i=\sum_{n\in\mathbb N}\sum_{i\in I_n}a_i
            \]
    \end{enumerate}
\end{thm}

\begin{proof} La démonstration n'est pas au programme. On la fait dans le cas $(a_i)_i$ réelle positive.

    \begin{itemize}
        \item $(b\implies a)$ On prend $J$ une partie finie de $I$, \[
                I=\bigcup_{n\in\mathbb N}I_n
            \]
            donc il existe $n_0$ tel que \[
                J\subset \bigcup_{n\leq n_0}I_n
            \]
            On a \[
                0\leq \sum_{j\in J}a_j\leq \sum_{k=0}^{n_0}\sum{k\in I_n}a_k\leq \sum_{n\in\mathbb N}\sum_{k\in I_n}a_k
            \]
            donc $(a_i)_i$ sommable.
        \item $(a\implies b)$ Pour tout $J$ fini inclus dans $I_n$, $J\subset I$ donc \[
                0\leq \sum_{j\in J}a_j\leq \sum_{j\in I}a_j
            \]
            donc $(a_i)_{i\in I_n}$ est sommable.
            Soit $n_0\in\mathbb N$ et $J_0, \cdots, J_{n_0}$ finis tels que $J_k\subset I_k$.
            $J=J_0\cup \cdots \cup J_{n_0}$ est fini et \[
                \sum_{j\in J}a_j=\sum_{i\in J_0}a_i+\cdots +\sum_{i\in J_{n_0}}a_i\leq \sum_{j\in I}a_j
            \]
            On a alors \[
                \sum_{j\in J_0}a_j\leq \sum_{i\in I}a_i-\sum_{j\in J_1}a_j-\cdots -\sum_{j\in J_{n_0}}a_j
            \]
            et le membre de droite est indépendant de $J_0$. On passe à la borne supérieure par rapport à $J_0$: \[
                \sum_{i\in I_0}a_i=\sup_{\substack{J_0\subset I_0\\J_0\text{ fini}}}\sum_{j\in J_0}a_j\leq \sum_{i\in I}a_i-\sum_{j\in J_1}a_j-\cdots -\sum_{j\in J_{n_0}}a_j
            \]
            puis on recommence pour $J_1, \cdots, J_{n_0}$. On obtient ainsi \[
                \sum_{i\in I_0}a_i+\cdots +\sum_{i\in I_{n_0}}a_i\leq \sum_{j\in I}a_j.
            \]
            Les sommes partielles sont croissantes et majorées donc \[
                \sum \left( \sum_{k\in I_n}a_k \right)
            \]
            est absolument convergente (convergente + termes positifs). Puis, $n_0\to+\infty$ donne \[
                \sum_{n=0}^{+\infty}\sum_{k\in I_n}a_k\leq \sum_{i\in I}a_i
            \]
            Enfin, \[
                \sum_{j\in J}a_j\leq \sum_{k=0}^{n_0}\sum_{j\in I_k}a_j\leq \sum_{k=0}^{+\infty}\sum_{j\in I_k}a_j
            \]
            puis on passe au sup pour $J$ et on trouve la conclusion.
    \end{itemize}
    Pour $(a_i)$ complexe, on utilise la linéarité.
\end{proof}

\begin{cor}[Fubini discret\index{Fubini (théorème discret de -- )}]
    \Hyp $(a_{n, m})_{(n, m)\in\mathbb N^2}\in\mathbb C^{\mathbb N^2}$
    \Conc Il y a équivalence entre: \begin{enumerate}[left=1.2cm,label=\alph{enumi}.]
        \item $(a_{n,m})_{(n,m)\in\mathbb N^2}$ est sommable
        \item $\forall n\in\mathbb N, (a_{n, m})_{m\in\mathbb N}$ est sommable et $\sum_{m\in\mathbb N}|a_{n,m}|$ est le terme général d'une série convergente. Dans ce cas, \[
                \sum_{(n, m)\in\mathbb N^2}a_{n, m}=\sum_{n\in\mathbb N}\sum_{m\in\mathbb N}a_{n,m}=\sum_{m\in\mathbb N}\sum_{n\in\mathbb N}a_{n, m}
            \]
    \end{enumerate}
\end{cor}

\section{Produits infinis}

Soit $(a_n)$ une suite numérique\index{produit infini} et \[
    p_n=\prod_{k=0}^n(1+a_k)
\]
On dira que le produit $\prod(1+a_k)$ converge si et seulement si $p_n$ a une limite réelle \textbf{non nulle}

\begin{res}
    Si $\sum a_k$ est absolument convergente et $(a_n)$ ne vaut jamais $-1$, alors $\prod(1+a_k)$ converge
\end{res}

\begin{proof}
    On le montre dans le cas réel. On a $a_n\longrightarrow 0$ donc à partir d'un certain rang $n_0$, $(1+a_n)$ est strictement positive. Pour $N>n_0$, \[
        p_n=\underbrace{\prod_{k=0}^{n_0}(1+a_k)}_{\text{fixe } \neq 0}\times \prod_{k=n+1}^{N}\underbrace{(1+a_k)}_{>0}
    \]
    Or pour $k\geq n_0$, $|\ln(1+a_k)|\sim |a_k|$ donc $\sum \ln(1+a_k)$ ACV et sa somme vaut $\ell\in\mathbb R$. On a alors \[
        p_n=e^{\ln p_n}\xrightarrow[n\to+\infty]{}e^\ell \prod_{k=0}^{n_0}(1+a_k) \neq 0
    \]
\end{proof}

\begin{rem}
    Le resultat est vrai avec une suite complexe.
\end{rem}

\begin{ex}
    On note $f:\mathbb N^\star\longrightarrow \mathbb R_+$ complètement multiplicative\footnote{$\forall x,y, f(xy)=f(x)f(y)$} (le résultat que l'on va montrer est toujours vrai pour $f$ multiplicative\footnote{$\forall x,y, x\land y=1\implies f(xy)=f(x)f(y)$})

    On suppose que $\sum f(n)$ est absolument convergente. On va montrer que \[
        \prod_{p\text{ premier }} \frac1{1-f(p)}=\sum_{n=1}^{+\infty}f(n)
    \]
    On note $(p_i)_i$ la suite croissante des nombres premiers. Si il existe un premier $p$ tel que $f(p)=1$ alors $f(p^n)=1$ et $f(n)\xnrightarrow{}0$ ce qui est absurde, donc pour tout $p$ premier, $f(p)\neq 1$.
    On a alors $\sum f(p_i)$ ACV donc et $f(p_i)\neq 1$ donc $\prod (1-f(p_i))$ converge donc $\prod \frac1{1-f(p_i)}$ aussi. Puis, \[
        P_N=\prod_{i=1}^N\frac1{1-f(p_i)}=\prod_{i=1}^N \sum_{k=0}^{+\infty}f(p_i)^k\underset{\Pi\text{ de Cauchy}}=\sum_{k_1, \cdots, k_N}f(p_1^{k_1}\cdots p_N^{k_N})
    \]
    d'où \[
        \sum_{n=0}^{M_N}f(n)\leq P_N\leq\sum_{n=0}^{+\infty}f(n)
    \]
    avec $M_N=\max \{k, \quad \llbracket 1, k\rrbracket\text{ se décompose avec } p_1, \cdots p_N\}$. Puis, $N\to+\infty$ donne le résultat.
\end{ex}

Avec $s>1$ et $f:n\longmapsto \frac1{n^s}$, on trouve l'identité d'Euler\index{Euler!identité}: \[
    \prod_{p\in\mathbb P}\frac1{1-\frac1{p^s}}=\zeta(s)
\]

\endchapter
